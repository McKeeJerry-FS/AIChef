@page "/mealideas"
@using AIChef.Shared
@inject NavigationManager navigationManager


@if (loaded is true)
{	
	<div class="container">
		<h3 class="mt-5">Pick a meal to make...</h3>
		<div class="list-group">
			@foreach(var idea in ideas)
			{
				<button class="list-group-item list-group-item-action list-group-item-success p-2">
					<div class="d-flex w-100 justify-content-sm-between">
						<h2 class="mb-1 fw-bold">@idea.title</h2>
						<p class="mb-1">@idea.description</p>
					</div>
				</button>
			}
		</div>
	</div>
}
else
{
	<div class="container">
		<h3>RecipeState Parameters</h3>
		<h4>@rState!.MealTime</h4>
		<hr />
		@foreach(var item in rState.Ingredients!)
		{
			<p>@item.Description</p>
		}
	</div>
}

@code {
	[CascadingParameter]
	private RecipeState? rState { get; set; }

	private List<Idea> ideas = new List<Idea>();
	private bool loaded = false;

	protected override void OnInitialized()
	{
		if (rState is null)
		{
			navigationManager.NavigateTo("/", forceLoad: true);
			return;
		}


	}
}
